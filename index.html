<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Glen Track</title>

  <meta name="theme-color" content="#0B1220" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="apple-touch-icon" href="./icon-192.png?v=3" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Glen Track" />

  <link rel="stylesheet" href="./app.css" />
  <script defer src="./app.js"></script>
</head>

<body>

  <!-- ===== HEADER ===== -->
  <header class="topbar">
    <div class="brand">
      <img class="brandIcon" src="./icon-192.png" alt="Glen Track icon" />
      <div class="brandText">
        <div class="brandName">Glen Track</div>
        <div class="brandTag">Clean execution. Close the day.</div>
      </div>
    </div>

    <div class="topActions">
      <button class="chip" id="btnPrevDay">‹</button>
      <button class="chip chipWide" id="btnPickDay">
        <span id="uiDateLabel">Today</span>
      </button>
      <button class="chip" id="btnNextDay">›</button>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main class="container">

    <!-- ================= TODAY ================= -->
    <section class="screen active" data-screen="today">

      <div class="card heroCard">

        <div class="heroHead">
          <div>
            <div class="h1">Today</div>
            <div class="sub" id="uiStatusLine">Status: In Progress</div>
          </div>
          <div class="statusPill" id="uiStatusPill">In Progress</div>
        </div>

        <!-- CAL + PROTEIN RINGS -->
        <div class="ringRow">
          <div id="calRingHost"></div>
          <div id="proteinRingHost"></div>
        </div>

        <div class="divider"></div>

        <!-- FOOD + WORKOUT SHORTCUTS -->
        <div class="rowList">

          <button class="rowBtn" id="btnGoFood">
            <span class="rowLeft">
              <span class="rowTitle">Food</span>
              <span class="rowSub" id="uiFoodSub">Not logged</span>
            </span>
            <span class="rowRight" id="uiFoodMark">—</span>
          </button>

          <button class="rowBtn" id="btnGoWorkouts">
            <span class="rowLeft">
              <span class="rowTitle">Workout</span>
              <span class="rowSub" id="uiWorkoutSub">Not logged</span>
            </span>
            <span class="rowRight" id="uiWorkoutMark">—</span>
          </button>

        </div>

        <div class="divider"></div>

        <div class="ctaRow">
          <button class="btn ghost" id="btnQuickLog">Quick Log</button>
          <button class="btn primary" id="btnCloseDay" disabled>
            Close Today
          </button>
        </div>

        <div class="subtle" id="uiCloseHint">
          Log food or a workout to enable Close Today.
        </div>

      </div>
    </section>

    <!-- ================= FOOD ================= -->
    <section class="screen" data-screen="food">

      <div class="screenHead">
        <div>
          <div class="h1">Food</div>
          <div class="sub" id="uiFoodDateSub">Meals for selected day</div>
        </div>
        <button class="btn ghost" id="btnAddFoodLogged">Add</button>
      </div>

      <div class="card">
        <div class="miniRow">
          <div class="miniItem">
            <span class="miniK">Calories</span>
            <span class="miniV" id="uiFoodTotCals">—</span>
          </div>
          <div class="miniItem">
            <span class="miniK">Protein</span>
            <span class="miniV" id="uiFoodTotP">—</span>
          </div>
          <div class="miniItem">
            <span class="miniK">Carbs</span>
            <span class="miniV" id="uiFoodTotC">—</span>
          </div>
          <div class="miniItem">
            <span class="miniK">Fat</span>
            <span class="miniV" id="uiFoodTotF">—</span>
          </div>
        </div>
      </div>

      <div id="mealList"></div>

    </section>

    <!-- ================= WORKOUTS ================= -->
    <section class="screen" data-screen="workouts">

      <div class="screenHead">
        <div>
          <div class="h1">Workouts</div>
          <div class="sub" id="uiWorkoutDateSub">
            Plan or log for selected day
          </div>
        </div>
        <button class="btn ghost" id="btnPlanWorkout">Plan</button>
      </div>

      <div class="card">

        <div id="workoutEditor" class="hidden">

          <div class="row" style="justify-content:space-between; gap:10px;">
            <button class="btn ghost" id="btnAddExercise">
              Add exercise
            </button>

            <button class="btn ghost" id="btnMarkWorkoutComplete">
              Mark Complete
            </button>

            <button class="btn primary" id="btnSaveWorkoutLog">
              Save
            </button>
          </div>

          <div class="divider"></div>

          <div id="exerciseEditor"></div>

        </div>

        <div id="uiWorkoutEmpty" class="subtle">
          No workout planned.
        </div>

      </div>
    </section>

    <!-- ================= CALENDAR ================= -->
    <section class="screen" data-screen="calendar">

      <div class="screenHead">
        <div class="h1">Calendar</div>
        <div class="row" style="gap:10px;">
          <button class="chip" id="btnPrevMonth">‹</button>
          <button class="chip chipWide" id="btnTodayJump">Today</button>
          <button class="chip" id="btnNextMonth">›</button>
        </div>
      </div>

      <!-- FLAT GRID (NO BUBBLES) -->
      <div id="calendarGrid" class="calGrid"></div>

    </section>

    <!-- ================= STATS ================= -->
    <section class="screen" data-screen="stats">

      <div class="screenHead">
        <div>
          <div class="h1">Stats</div>
          <div class="sub">Momentum overview</div>
        </div>
      </div>

      <div class="card">
        <div id="statsContent"></div>
      </div>

    </section>

  </main>

  <!-- ===== BOTTOM NAV ===== -->
  <nav class="bottomNav">

    <button class="navBtn active" data-nav="today">
      <span>Today</span>
    </button>

    <button class="navBtn" data-nav="food">
      <span>Food</span>
    </button>

    <button class="navBtn" data-nav="workouts">
      <span>Workouts</span>
    </button>

    <button class="navBtn" data-nav="calendar">
      <span>Calendar</span>
    </button>

    <button class="navBtn" data-nav="stats">
      <span>Stats</span>
    </button>

  </nav>

</body>
</html>